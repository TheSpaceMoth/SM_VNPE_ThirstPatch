<?xml version="1.0" encoding="utf-8" ?>
<Patch>

	<!-- For the hygiene functionality. Might be added by other mods -->
	
	<Operation Class="PatchOperationConditional">
		<xpath>Defs/ThingDef[defName="VNPE_NutrientPasteDripper"]</xpath>
		<match Class="PatchOperationSequence">
			<operations>
				<li Class="PatchOperationConditional">
					<xpath>Defs/ThingDef[defName="VNPE_NutrientPasteDripper"]/comps</xpath>
					<nomatch Class="PatchOperationAdd">
						<xpath>Defs/ThingDef[defName="VNPE_NutrientPasteDripper"]</xpath>
						<value>
							<comps/>
						</value>
					</nomatch>
				</li>
						
				<li Class="PatchOperationConditional">
					<xpath>Defs/ThingDef[defName="VNPE_NutrientPasteDripper"]/comps/li[@Class="DubsBadHygiene.CompProperties_Pipe"]</xpath>
					<nomatch Class="PatchOperationAdd">
						<xpath>Defs/ThingDef[defName="VNPE_NutrientPasteDripper"]/comps</xpath>
						<value>
							<li Class="CompProperties_Forbiddable"/>
							<li Class="DubsBadHygiene.CompProperties_Pipe">
								<mode>Sewage</mode>
							</li>
							<li Class="DubsBadHygiene.CompProperties_Blockage"/>
						</value>
					</nomatch>
				</li>
				
				<li Class="PatchOperationConditional">
					<xpath>Defs/ThingDef[defName="VNPE_NutrientPasteDripper"]/placeWorkers</xpath>
					<nomatch Class="PatchOperationAdd">
						<xpath>Defs/ThingDef[defName="VNPE_NutrientPasteDripper"]</xpath>
						<value>
							<placeWorkers/>
						</value>
					</nomatch>
				</li>
										
				<li Class="PatchOperationConditional">
					<xpath>Defs/ThingDef[defName="VNPE_NutrientPasteDripper"]/placeWorkers/li[text()="DubsBadHygiene.PlaceWorker_SewageGrid"]</xpath>
					<nomatch Class="PatchOperationAdd">
						<xpath>Defs/ThingDef[defName="VNPE_NutrientPasteDripper"]/placeWorkers</xpath>
						<value>
							<li>DubsBadHygiene.PlaceWorker_SewageGrid</li>
						</value>
					</nomatch>
				</li>
				
				<!--
				<li Class="PatchOperationConditional">
					<xpath>Defs/ThingDef[defName="VNPE_NutrientPasteDripper" and @DBHThirstAddon="true"]</xpath>
					<nomatch Class="PatchOperationAttributeSet">
						<xpath>Defs/ThingDef[defName="VNPE_NutrientPasteDripper"]</xpath>
						<attribute>DBHThirstAddon</attribute>
						<value>true</value>
					</nomatch>
				</li>-->
			</operations>
		</match>
	</Operation>
			
</Patch>
